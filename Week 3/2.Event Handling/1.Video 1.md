# Event Handling (Part 1)

![[Week 3/2.Event Handling/attachments/index.mp4]]

Why do we need events? What purpose do they serve? Recall that we introduced events in course two. Events are useful for pushing notification to indicate completion of a smart contract operation, say the execution of a transfer. Events can be used to notify any event occurrence within a smart contract and the blockchain. Events are useful for logging activities of a smart contract. In this role, event logging is like your printf or console log. Logs can be reviewed to audit the functioning of a smart contract. Event enables asynchronous operations between an event sender and the receiver. Event framework is an efficient alternative for polling to check if a request has been completed. On completion of this lesson, you will be able to explain the use of events for logging and pushing the status of a smart contract to application, illustrate the use of an event in the design of a smart contract, the Coin smart contract. How do you program set up an invoke an event? You define an event by its name and parameters. An event can be parameterized like a function. For example, in the coin.sol, you will see event sent with parameters from, to and amount. You invoke an event by its name and actual parameter values. This will push or log an event occurrence for its listeners. For example, in the coin.sol you will see sent with parameters sender, receiver and amount. How do you consume an event? You setup the listener for an event or events, and consume or catch an event notification, and act upon it. We're going to illustrate events using Coin de-application. Coin smart contract has two data items. First one is the address of the minter or the owner. The second one is the mapping between the account address and the Coin balance. Please understand this is not the ether that is used for paying gas points. Event sent is defined with three parameters. Event is pushed or logged after the transfer is completed within the transfer function. We'll demonstrate the Coin DApp on truffle ID and metamask in a bit. Coin has a constructor. It has a mint function that only the minter can execute to mint new coins for a given address. You will have to be in account one in metamask or in the minters account to mint. The last function is the transfer that can transfer coins from one account to another. You will have to be in the sender's account in metamask to be able to transfer. Now, there's one more item left. How do you handle the event? There are many ways to set up the event handlers. We have chosen the approach suggested in the truffle documentation. This involves handling it in JavaScript app, App.js. This approach enables you to conveniently handle the events and inject the JavaScript assets in the web to display the event notification. If you haven't already done so, now you can download Coin.zip from the resources section into your workspace. Unzip Coin.zip, cd into the Coin directory. Truffle develop do this in a different terminal. Truffle compile in the current terminal. Truffle migrate --reset. Set up your metamask to connect your test chain. Recall we explained it earlier. Then run the test server npm run dev. Now, go to the Chrome browser where you set up the metamask. In the browser link, enter localhost:3000. It should open up the Coin interface to the DApp, see the events in action. By now, the truffle DApp development process should be pretty routine to you. Prepare the various directories, source code and the assets, truffle develop in a terminal and set up the metamask, create accounts, truffle compile, take care of any syntax errors, truffle migrate --reset, that deploys the smart contract and npm run dev, that deploys the lightweight web server. You're all set to interact with the user interface. In the metamask, make sure you have the right account. For coding the DApp, you can apply all that you learned about Solidity in course two. You will need some basic JavaScript and HTML UI experience to complete the front end.