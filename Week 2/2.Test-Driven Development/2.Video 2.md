# Test-Driven Development (Part 2) (Negative Test Demo)
![[Week 2/2.Test-Driven Development/attachments/index.mp4]]


[MUSIC] Now edit the Ballot.sol in the contracts folder. Delete the onlyOwner from the register function. Save the Ballot.sol. You can use gedit editor or any other editor, like atom, that is familiar to you. Navigate back to the base directory and issue the commands, truffle compile, truffle migrate --reset. In this instance, reset is very important, because we are overriding the previous version of the smart contract and reset takes care of that. Then on to test, truffle test. You will note one of the negative test cases failed for the second negative test. Edit the Ballot.sol, voter function. Remove (voter.weight == 0) and the comma just before it so that it does not check for unregistered voter. This is an error. Save it. Navigate back to the base directory and repeat the process again, truffle compile, truffle migrate, --reset, truffle test. You will see one more of the negative test cases failed. Now get back to Ballot.sol, edit it, add the deleted items. After adding the onlyOwner to the header line of the register function, and ,weight == 0 to the vote function, save it, and carry out the truffle steps to make sure everything tests okay. Navigate back to the base directory, truffle compile, truffle migrate, --reset, truffle test. You should see all the tests passing. Let's now check for the negative tests. There are two negative tests. One, registration by the owner. Only owner can register other orders. And the second one is for accounts registered only can vote. We'll test only one of them now, the second one we'll test later when we have the complete tier. For the first one, I'm going to go into the contracts folder and edit the gedit, my Ballot.sol and go to the register function. In the register function, there is a modifier specified here, only owner. Only owner can do registrations and I'm just going to remove it. This is an accident delete, not specifying a condition that is required for a problem and this will compile, all right? There should be no problem. Okay, so if I do compile. I do compile. If I do truffle compile, it does compile, all right? All right, so no compilators. But there is an error in the specification of the problem. It did not validate the condition that only owner can register other voters. So let's see how we can do it. I'm just going to do truffle test, because we've written the test case for it. I'm going to test it and voila, you can see the positive test passed because the process was correct. But when it came to the negative test, since we did not specify only owner, and that condition was checked by our negative test case, and it gave us an error. And so, it captured that we did not enforce that condition that registration can be done only by the owner. And that's how you enforce testing of the smart contracts. Can you see how easy the development and testing process is with truffle? Truffle compile, truffle migrate, truffle test, and some edits in between. By now, you should be pretty familiar with the steps to develop a DApp. You can always use the test.js that we have provided as a model for writing your test, even if you're not an expert in JavaScript.